{
  "$schema": "test-data-schema",
  "version": "1.0.0",
  "description": "TimePlan Craft Kit APIæµ‹è¯•æ•°æ®é›†",
  
  "users": [
    {
      "id": "user-test-001",
      "email": "admin@timeplan.test",
      "username": "admin",
      "password": "Admin123!@#",
      "display_name": "ç³»ç»Ÿç®¡ç†å‘˜",
      "role": "admin",
      "avatar": "https://api.dicebear.com/7.x/avataaars/svg?seed=admin"
    },
    {
      "id": "user-test-002",
      "email": "pm@timeplan.test",
      "username": "pm_zhang",
      "password": "Test123!@#",
      "display_name": "å¼ ä¸‰ï¼ˆé¡¹ç›®ç»ç†ï¼‰",
      "role": "manager",
      "avatar": "https://api.dicebear.com/7.x/avataaars/svg?seed=pm"
    },
    {
      "id": "user-test-003",
      "email": "dev1@timeplan.test",
      "username": "dev_li",
      "password": "Test123!@#",
      "display_name": "æå››ï¼ˆå¼€å‘ï¼‰",
      "role": "member",
      "avatar": "https://api.dicebear.com/7.x/avataaars/svg?seed=dev1"
    },
    {
      "id": "user-test-004",
      "email": "dev2@timeplan.test",
      "username": "dev_wang",
      "password": "Test123!@#",
      "display_name": "ç‹äº”ï¼ˆå¼€å‘ï¼‰",
      "role": "member",
      "avatar": "https://api.dicebear.com/7.x/avataaars/svg?seed=dev2"
    }
  ],

  "teams": [
    {
      "id": "team-test-001",
      "name": "å‰ç«¯å›¢é˜Ÿ",
      "description": "è´Ÿè´£å‰ç«¯å¼€å‘çš„å›¢é˜Ÿ",
      "members": ["user-test-002", "user-test-003"]
    },
    {
      "id": "team-test-002",
      "name": "åç«¯å›¢é˜Ÿ",
      "description": "è´Ÿè´£åç«¯å¼€å‘çš„å›¢é˜Ÿ",
      "members": ["user-test-002", "user-test-004"]
    }
  ],

  "projects": [
    {
      "id": "project-test-001",
      "name": "TimePlan Craft Kit",
      "description": "æ™ºèƒ½æ—¶é—´çº¿ç®¡ç†å¹³å°å¼€å‘é¡¹ç›®",
      "team_id": "team-test-001",
      "owner_id": "user-test-002"
    }
  ],

  "plans": [
    {
      "id": "plan-test-001",
      "name": "Phase 4 - åç«¯å¼€å‘è®¡åˆ’",
      "description": "2026å¹´Q1åç«¯æœåŠ¡å¼€å‘",
      "project_id": "project-test-001",
      "owner_id": "user-test-002",
      "view_config": {
        "scale": "week",
        "startDate": "2026-02-14",
        "endDate": "2026-04-30"
      }
    },
    {
      "id": "plan-test-002",
      "name": "æµ‹è¯•æ•°æ®è®¡åˆ’",
      "description": "ç”¨äºé›†æˆæµ‹è¯•çš„å®Œæ•´æ•°æ®é›†",
      "project_id": "project-test-001",
      "owner_id": "user-test-002",
      "view_config": {
        "scale": "month",
        "startDate": "2026-01-01",
        "endDate": "2026-12-31"
      }
    }
  ],

  "timelines": [
    {
      "id": "timeline-test-001",
      "plan_id": "plan-test-001",
      "name": "è®¤è¯æˆæƒæ¨¡å—",
      "description": "ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†",
      "color": "#1890ff",
      "order": 0
    },
    {
      "id": "timeline-test-002",
      "plan_id": "plan-test-001",
      "name": "è®¡åˆ’ç®¡ç†æ¨¡å—",
      "description": "TimePlan CRUDåŠŸèƒ½",
      "color": "#52c41a",
      "order": 1
    },
    {
      "id": "timeline-test-003",
      "plan_id": "plan-test-001",
      "name": "å®æ—¶ååŒæ¨¡å—",
      "description": "WebSocket + OTç®—æ³•",
      "color": "#faad14",
      "order": 2
    }
  ],

  "lines": [
    {
      "id": "line-test-001",
      "plan_id": "plan-test-001",
      "timeline_id": "timeline-test-001",
      "schema_id": "milestone",
      "label": "âœ… è®¤è¯ç³»ç»Ÿè®¾è®¡å®Œæˆ",
      "start_date": "2026-02-14T00:00:00Z",
      "end_date": "2026-02-14T23:59:59Z",
      "attributes": {
        "owner": "å¼ ä¸‰",
        "status": "å·²å®Œæˆ",
        "priority": "high",
        "tags": ["è®¾è®¡", "é‡Œç¨‹ç¢‘"]
      }
    },
    {
      "id": "line-test-002",
      "plan_id": "plan-test-001",
      "timeline_id": "timeline-test-001",
      "schema_id": "lineplan",
      "label": "å®ç°ç”¨æˆ·æ³¨å†ŒAPI",
      "start_date": "2026-02-15T00:00:00Z",
      "end_date": "2026-02-16T23:59:59Z",
      "attributes": {
        "owner": "æå››",
        "status": "è¿›è¡Œä¸­",
        "priority": "high",
        "tags": ["å¼€å‘", "API"],
        "story_points": 3
      }
    },
    {
      "id": "line-test-003",
      "plan_id": "plan-test-001",
      "timeline_id": "timeline-test-001",
      "schema_id": "lineplan",
      "label": "å®ç°JWTè®¤è¯",
      "start_date": "2026-02-17T00:00:00Z",
      "end_date": "2026-02-19T23:59:59Z",
      "attributes": {
        "owner": "æå››",
        "status": "å¾…å¼€å§‹",
        "priority": "high",
        "tags": ["å¼€å‘", "è®¤è¯"],
        "story_points": 5
      }
    },
    {
      "id": "line-test-004",
      "plan_id": "plan-test-001",
      "timeline_id": "timeline-test-001",
      "schema_id": "gateway",
      "label": "ğŸšª è®¤è¯æ¨¡å—å®Œæˆ",
      "start_date": "2026-02-20T00:00:00Z",
      "end_date": "2026-02-20T23:59:59Z",
      "attributes": {
        "type": "decision",
        "description": "è®¤è¯æ¨¡å—æµ‹è¯•é€šè¿‡ï¼Œå¯è¿›å…¥ä¸‹ä¸€é˜¶æ®µ"
      }
    },
    {
      "id": "line-test-005",
      "plan_id": "plan-test-001",
      "timeline_id": "timeline-test-002",
      "schema_id": "lineplan",
      "label": "å®ç°Plan CRUD API",
      "start_date": "2026-02-21T00:00:00Z",
      "end_date": "2026-02-25T23:59:59Z",
      "attributes": {
        "owner": "ç‹äº”",
        "status": "å¾…å¼€å§‹",
        "priority": "medium",
        "tags": ["å¼€å‘", "CRUD"],
        "story_points": 8
      }
    },
    {
      "id": "line-test-006",
      "plan_id": "plan-test-001",
      "timeline_id": "timeline-test-002",
      "schema_id": "lineplan",
      "label": "å®ç°Timeline CRUD API",
      "start_date": "2026-02-26T00:00:00Z",
      "end_date": "2026-02-28T23:59:59Z",
      "attributes": {
        "owner": "ç‹äº”",
        "status": "å¾…å¼€å§‹",
        "priority": "medium",
        "tags": ["å¼€å‘", "CRUD"],
        "story_points": 5
      }
    },
    {
      "id": "line-test-007",
      "plan_id": "plan-test-001",
      "timeline_id": "timeline-test-002",
      "schema_id": "lineplan",
      "label": "å®ç°Line CRUD + æ‰¹é‡æ“ä½œ",
      "start_date": "2026-03-01T00:00:00Z",
      "end_date": "2026-03-07T23:59:59Z",
      "attributes": {
        "owner": "æå››",
        "status": "å¾…å¼€å§‹",
        "priority": "high",
        "tags": ["å¼€å‘", "CRUD", "æ‰¹é‡æ“ä½œ"],
        "story_points": 13
      }
    }
  ],

  "relations": [
    {
      "id": "relation-test-001",
      "plan_id": "plan-test-001",
      "from_line_id": "line-test-001",
      "to_line_id": "line-test-002",
      "type": "FS",
      "lag": 0,
      "notes": "è®¾è®¡å®Œæˆåæ‰èƒ½å¼€å‘"
    },
    {
      "id": "relation-test-002",
      "plan_id": "plan-test-001",
      "from_line_id": "line-test-002",
      "to_line_id": "line-test-003",
      "type": "FS",
      "lag": 0,
      "notes": "ç”¨æˆ·æ³¨å†Œå®Œæˆåå®ç°JWT"
    },
    {
      "id": "relation-test-003",
      "plan_id": "plan-test-001",
      "from_line_id": "line-test-003",
      "to_line_id": "line-test-004",
      "type": "FS",
      "lag": 0,
      "notes": "JWTå®Œæˆåè¿›å…¥é—¨ç¦"
    },
    {
      "id": "relation-test-004",
      "plan_id": "plan-test-001",
      "from_line_id": "line-test-004",
      "to_line_id": "line-test-005",
      "type": "FS",
      "lag": 0,
      "notes": "è®¤è¯å®Œæˆåå¼€å‘CRUD"
    }
  ],

  "baselines": [
    {
      "id": "baseline-test-001",
      "plan_id": "plan-test-001",
      "name": "Phase 4 å¯åŠ¨åŸºçº¿",
      "description": "2026-02-14 Phase 4å¼€å§‹æ—¶çš„è®¡åˆ’çŠ¶æ€",
      "date": "2026-02-14T00:00:00Z",
      "snapshot": {
        "timelines_count": 3,
        "lines_count": 7,
        "relations_count": 4
      }
    }
  ],

  "test_scenarios": {
    "scenario_1_auth_flow": {
      "description": "å®Œæ•´çš„è®¤è¯æµç¨‹æµ‹è¯•",
      "steps": [
        {
          "step": 1,
          "action": "register",
          "data": {
            "email": "newuser@test.com",
            "username": "newuser",
            "password": "New123!@#"
          },
          "expected_status": 201
        },
        {
          "step": 2,
          "action": "login",
          "data": {
            "username": "newuser",
            "password": "New123!@#"
          },
          "expected_status": 200
        },
        {
          "step": 3,
          "action": "get_current_user",
          "expected_status": 200
        },
        {
          "step": 4,
          "action": "logout",
          "expected_status": 200
        }
      ]
    },

    "scenario_2_create_full_plan": {
      "description": "åˆ›å»ºå®Œæ•´çš„è®¡åˆ’ï¼ˆå«Timelineã€Lineã€Relationï¼‰",
      "steps": [
        {
          "step": 1,
          "action": "create_plan",
          "data": {
            "name": "é›†æˆæµ‹è¯•è®¡åˆ’"
          },
          "expected_status": 201,
          "save_id": "plan_id"
        },
        {
          "step": 2,
          "action": "create_timeline",
          "use_plan_id": "plan_id",
          "data": {
            "name": "å¼€å‘æ³³é“"
          },
          "expected_status": 201,
          "save_id": "timeline_id"
        },
        {
          "step": 3,
          "action": "create_line",
          "use_plan_id": "plan_id",
          "data": {
            "timeline_id": "$timeline_id",
            "schema_id": "lineplan",
            "label": "å¼€å‘ä»»åŠ¡1",
            "start_date": "2026-02-14T00:00:00Z"
          },
          "expected_status": 201,
          "save_id": "line1_id"
        },
        {
          "step": 4,
          "action": "create_line",
          "use_plan_id": "plan_id",
          "data": {
            "timeline_id": "$timeline_id",
            "schema_id": "lineplan",
            "label": "å¼€å‘ä»»åŠ¡2",
            "start_date": "2026-02-17T00:00:00Z"
          },
          "expected_status": 201,
          "save_id": "line2_id"
        },
        {
          "step": 5,
          "action": "create_relation",
          "use_plan_id": "plan_id",
          "data": {
            "from_line_id": "$line1_id",
            "to_line_id": "$line2_id",
            "type": "FS"
          },
          "expected_status": 201
        },
        {
          "step": 6,
          "action": "get_plan_detail",
          "use_plan_id": "plan_id",
          "expected_status": 200,
          "assertions": [
            "timelines.length == 1",
            "lines.length == 2",
            "relations.length == 1"
          ]
        }
      ]
    },

    "scenario_3_batch_operations": {
      "description": "æ‰¹é‡æ“ä½œæµ‹è¯•",
      "pre_conditions": "å·²æœ‰è®¡åˆ’ï¼Œå«10ä¸ªLine",
      "steps": [
        {
          "step": 1,
          "action": "batch_update_lines",
          "data": {
            "line_ids": ["$line1", "$line2", "$line3"],
            "mode": "merge",
            "updates": {
              "attributes.status": "è¿›è¡Œä¸­"
            }
          },
          "expected_status": 200,
          "assertions": [
            "updated_count == 3"
          ]
        }
      ]
    },

    "scenario_4_circular_dependency": {
      "description": "å¾ªç¯ä¾èµ–æ£€æµ‹",
      "pre_conditions": "å·²æœ‰è®¡åˆ’ï¼Œå«Aã€Bã€Cä¸‰ä¸ªLine",
      "steps": [
        {
          "step": 1,
          "action": "create_relation",
          "description": "åˆ›å»ºAâ†’B",
          "data": {
            "from_line_id": "$lineA",
            "to_line_id": "$lineB",
            "type": "FS"
          },
          "expected_status": 201
        },
        {
          "step": 2,
          "action": "create_relation",
          "description": "åˆ›å»ºBâ†’C",
          "data": {
            "from_line_id": "$lineB",
            "to_line_id": "$lineC",
            "type": "FS"
          },
          "expected_status": 201
        },
        {
          "step": 3,
          "action": "create_relation",
          "description": "åˆ›å»ºCâ†’Aï¼ˆåº”è¢«æ‹’ç»ï¼‰",
          "data": {
            "from_line_id": "$lineC",
            "to_line_id": "$lineA",
            "type": "FS"
          },
          "expected_status": 400,
          "assertions": [
            "error == 'validation_error'",
            "errors[0].type == 'circular'"
          ]
        }
      ]
    }
  },

  "performance_test_data": {
    "large_plan": {
      "description": "å¤§å‹è®¡åˆ’æ€§èƒ½æµ‹è¯•æ•°æ®",
      "timelines_count": 20,
      "lines_per_timeline": 50,
      "total_lines": 1000,
      "relations_count": 300
    }
  }
}
