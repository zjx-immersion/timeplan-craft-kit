# V5 紧急修复快速测试指南 🚨

## 🎯 测试目标
验证3个**严重bug**是否已修复：
1. ❌→✅ 磁吸标签完全看不见
2. ❌→✅ 拖拽手柄不够明显
3. ❌→✅ 拖拽时Line变得超长（关键bug）

**预计测试时间: 3分钟**

---

## ⚡ 快速测试流程

### 测试 1️⃣: 磁吸标签（30秒）⭐⭐⭐

#### 操作
1. 切换到编辑模式
2. 选中任意Line
3. 拖拽手柄接近另一个Gateway或Milestone
4. **当Console出现** `[TimelinePanel] 🧲 显示磁吸指示线` 时

#### ✅ 成功标准
- [ ] 看到 **红色发光竖线**（8px宽）
- [ ] 看到 **白色标签** "🧲 磁吸对齐"（大字体）
- [ ] 红线从时间轴顶部延伸到底部
- [ ] 标签和线条**非常明显**，不被任何元素遮挡

#### ❌ 如果失败
截图 + 说明：在Console有日志时，屏幕上看到什么？

---

### 测试 2️⃣: 拖拽手柄（30秒）⭐⭐

#### 操作
1. 编辑模式下，点击任意Line（bar类型）
2. **观察左右两端**

#### ✅ 成功标准
- [ ] 看到 **实心蓝色手柄**（不是半透明）
- [ ] 手柄 **延伸到Bar外部**（超出一点）
- [ ] 手柄有 **圆角** 和 **白色边框**
- [ ] 手柄有 **发光效果**（蓝色光晕）
- [ ] 鼠标移到手柄上，变为 **双向箭头** ↔️
- [ ] hover时，手柄 **变宽** 且发光增强

#### ❌ 如果失败
截图 + 说明：看到的手柄是什么样子的？

---

### 测试 3️⃣: 拖拽宽度对齐（90秒）🚨 **最关键**

#### 操作
1. 编辑模式下，选中一个Line
2. **观察Line当前的宽度**（目测或记录）
3. 拖拽 **右侧手柄** 向右移动 **约5cm**（鼠标移动距离）
4. 释放鼠标
5. **观察Line新的宽度**

#### ✅ 成功标准（关键）
- [ ] Line宽度变化 **约等于** 鼠标移动距离
  - 月视图：拖5cm → Line变化约5cm（因为5px/天，1天=5px）
  - 日视图：拖5cm → Line变化约5cm（因为40px/天，1天=40px）
- [ ] **不会出现**：拖5cm → Line变化50cm（这就是bug）
- [ ] 释放后，Line右边缘 **对齐到网格线**
- [ ] 拖拽过程中，宽度变化 **流畅平滑**，没有跳跃

#### ❌ 如果失败（严重bug）
1. 截图拖拽前的Line
2. 截图拖拽后的Line
3. 标注：鼠标移动了多少cm，Line变化了多少cm
4. 说明：是否出现"一拖就变得很长"的情况

---

## 📸 测试截图要求

### 如果磁吸标签还是看不见：
- [ ] 拖拽时的全屏截图
- [ ] Console日志的截图（包含 `[TimelinePanel] 🧲` 日志）
- [ ] 用画笔标注：预期红线出现的位置

### 如果拖拽手柄不明显：
- [ ] 选中Line后的截图（全屏）
- [ ] 放大左侧手柄区域的截图
- [ ] 放大右侧手柄区域的截图

### 如果拖拽宽度不对：
- [ ] 拖拽前的Line（标注当前宽度）
- [ ] 拖拽后的Line（标注新宽度）
- [ ] 标注鼠标移动的距离

---

## 🔍 调试信息收集

如果测试失败，请提供以下信息：

1. **浏览器信息**：Chrome/Safari/Firefox + 版本号
2. **屏幕尺寸**：分辨率（例如：1920x1080）
3. **当前时间视图**：月/周/双周/日/季度
4. **缩放级别**：浏览器缩放比例（100%? 125%?）
5. **Console完整日志**：特别是包含 `[TimelinePanel] 🧲` 的所有日志

---

## ✅ 测试通过标准

| 测试项 | 权重 | 通过标准 |
|--------|------|---------|
| 磁吸标签可见 | ⭐⭐⭐ | 红线 + 标签清晰可见 |
| 拖拽手柄明显 | ⭐⭐ | 蓝色实心手柄突出明显 |
| 拖拽宽度正确 | ⭐⭐⭐⭐⭐ | 宽度变化 ≈ 鼠标移动 |

**所有checkbox都勾选 = V5修复成功！** 🎉

---

## 🆘 如果还有问题

V5是针对**根本性bug**的修复：
- 如果磁吸标签还看不见 → 可能是CSS被其他样式覆盖
- 如果手柄还不明显 → 可能需要更极端的设计（比如18px宽）
- 如果拖拽宽度还不对 → 可能是dateUtils函数有问题

请提供详细的测试反馈，我会继续调试直到完美！🚀
