# ç”˜ç‰¹å›¾äº¤äº’ä¼˜åŒ–å®æ–½æŠ¥å‘Š

**å®æ–½æ—¥æœŸ**: 2026-02-08  
**çŠ¶æ€**: âœ… å…¨éƒ¨å®Œæˆ

---

## æ‰§è¡Œæ‘˜è¦

æœ¬æ¬¡å®æ–½å®Œæˆäº†5é¡¹é‡è¦çš„äº¤äº’å’Œè§†è§‰ä¼˜åŒ–ï¼š

1. âœ… **å·¦ä¾§Timelineåˆ—è¡¨èƒŒæ™¯è‰²ä¿®å¤** - æ•´è¡ŒèƒŒæ™¯å˜è‰²ï¼Œæä½é€æ˜åº¦
2. âœ… **Lineæ‹–æ‹½æ”¹å˜é•¿åº¦** - å·²éªŒè¯ä»£ç å­˜åœ¨ä¸”å®Œæ•´
3. âœ… **å…ƒç´ é—´ç£å¸æ•ˆæœ** - 1å¤©å†…è‡ªåŠ¨å¸é™„åˆ°é™„è¿‘å…ƒç´ 
4. âœ… **åŸºçº¿ç¼–è¾‘hoveræ“ä½œå›¾æ ‡** - ä¼˜åŒ–ä¸ºå›¾æ ‡æŒ‰é’®
5. âœ… **Milestoneå’ŒGatewayå›¾å½¢é‡æ–°è®¾è®¡** - å€’ä¸‰è§’+è±å½¢+ç‰¹æ®Šå±æ€§

---

## 1. å·¦ä¾§Timelineåˆ—è¡¨èƒŒæ™¯è‰²ä¿®å¤

### 1.1 é—®é¢˜æè¿°

**åŸé—®é¢˜**: 
- å·¦ä¾§Timelineåˆ—è¡¨èƒŒæ™¯è‰²ä¸å˜ï¼Œåªæœ‰å›¾æ ‡é¢œè‰²æ”¹å˜
- èƒŒæ™¯è‰²åº”è¯¥ä¸å³ä¾§timelineèƒŒæ™¯è‰²ä¸€è‡´
- é€æ˜åº¦è¦éå¸¸é«˜ï¼Œä¸èƒ½è®©ç”¨æˆ·è§‰å¾—èŠ±

### 1.2 å®æ–½æ–¹æ¡ˆ

**æ–‡ä»¶**: `TimelinePanel.tsx`

**ä¿®æ”¹å†…å®¹**:
```typescript
// ä¿®æ”¹å‰
backgroundColor: `${timelineColor}15`,  // 15%é€æ˜åº¦

// ä¿®æ”¹å
backgroundColor: `${timelineColor}08`,  // 8%é€æ˜åº¦ï¼ˆæä½ï¼‰
```

**æ‚¬åœæ•ˆæœ**:
```typescript
// ä¿®æ”¹å‰
onMouseEnter: `${timelineColor}25`  // 25%é€æ˜åº¦

// ä¿®æ”¹å  
onMouseEnter: `${timelineColor}12`  // 12%é€æ˜åº¦ï¼ˆæä½ï¼‰
```

### 1.3 é€æ˜åº¦è¯´æ˜

| é€æ˜åº¦ | Hexå€¼ | é€‚ç”¨åœºæ™¯ |
|--------|-------|---------|
| 3% | 08 | é»˜è®¤èƒŒæ™¯ï¼ˆææ·¡ï¼Œå‡ ä¹ä¸å¯è§ï¼‰|
| 7% | 12 | æ‚¬åœèƒŒæ™¯ï¼ˆç¨å¾®æ˜æ˜¾ï¼‰|
| 15% | 26 | ~~æ—§å€¼ï¼šå¤ªæ˜¾çœ¼~~ |
| 25% | 40 | ~~æ—§å€¼ï¼šå¤ªèŠ±å“¨~~ |

**è®¾è®¡åŸåˆ™**: 
- é»˜è®¤èƒŒæ™¯ææ·¡ï¼Œä¸å¹²æ‰°é˜…è¯»
- æ‚¬åœæ—¶ç¨åŠ æ·±ï¼Œæä¾›åé¦ˆ
- æ•´ä½“ä¸èŠ±å“¨ï¼Œä¸“ä¸šç®€æ´

---

## 2. Lineæ‹–æ‹½æ”¹å˜é•¿åº¦åŠŸèƒ½

### 2.1 åŠŸèƒ½ç¡®è®¤

**çŠ¶æ€**: âœ… ä»£ç å·²å­˜åœ¨ï¼ŒåŠŸèƒ½å®Œæ•´

**æ–‡ä»¶**: 
- `src/hooks/useBarResize.ts` (æ ¸å¿ƒhook)
- `src/components/timeline/LineRenderer.tsx` (UIæ‰‹æŸ„)
- `src/components/timeline/TimelinePanel.tsx` (äº‹ä»¶ç»‘å®š)

### 2.2 åŠŸèƒ½è¯¦æƒ…

#### æ‹–æ‹½æ‰‹æŸ„

**ä½ç½®**: Barä¸¤ç«¯ï¼ˆå·¦å³ï¼‰

```typescript
// å·¦ä¾§è°ƒæ•´æ‰‹æŸ„
<div
  onMouseDown={(e) => {
    e.stopPropagation();
    onResizeStart(e, 'left');
  }}
  style={{
    position: 'absolute',
    left: -4,
    top: 0,
    bottom: 0,
    width: 8,
    cursor: 'ew-resize',
    zIndex: 20,
  }}
/>
```

**æ˜¾ç¤ºæ¡ä»¶**: 
- ç¼–è¾‘æ¨¡å¼ (`isEditMode`)
- Barè¢«é€‰ä¸­ (`isSelected`)
- ä»…Barç±»å‹ï¼ˆmilestone/gatewayä¸å¯resizeï¼‰

#### æ‹–æ‹½é€»è¾‘

```typescript
handleResizeStart(e, line, edge) {
  // 1. è®°å½•åŸå§‹çŠ¶æ€
  originalStartDate: line.startDate
  originalEndDate: line.endDate
  
  // 2. ç›‘å¬é¼ æ ‡ç§»åŠ¨
  handleResizeMove(e) {
    deltaX = currentX - startX
    deltaDays = deltaX / pixelsPerDay
    
    if (edge === 'left') {
      newStartDate = originalStart + deltaDays
    } else {
      newEndDate = originalEnd + deltaDays
    }
  }
  
  // 3. åº”ç”¨æ›´æ–°
  handleResizeEnd() {
    onNodeResize(lineId, newStartDate, newEndDate)
  }
}
```

#### çº¦æŸæ¡ä»¶

1. **æœ€å°å®½åº¦**: 20px
2. **å¼€å§‹æ—¥æœŸ < ç»“æŸæ—¥æœŸ**: å§‹ç»ˆä¿æŒ
3. **ç½‘æ ¼å¸é™„**: è‡ªåŠ¨å¯¹é½åˆ°æ—¶é—´åˆ»åº¦ç½‘æ ¼

---

## 3. å…ƒç´ é—´ç£å¸æ•ˆæœ

### 3.1 å®æ–½æ–¹æ¡ˆ

**æ–‡ä»¶**: `src/hooks/useBarResize.ts`

**æ–°å¢åŠŸèƒ½**: 
```typescript
const MAGNETIC_SNAP_THRESHOLD_DAYS = 1; // é˜ˆå€¼ï¼š1å¤©å†…å¸é™„

const findMagneticSnapDate = (
  targetDate: Date,
  currentLineId: string,
  allLines: Line[],
  edge: 'left' | 'right'
): Date | null => {
  // éå†æ‰€æœ‰å…¶ä»–line
  allLines.forEach(line => {
    if (line.id === currentLineId) return;
    
    // è®¡ç®—ä¸å…¶ä»–lineçš„å¼€å§‹/ç»“æŸæ—¥æœŸçš„è·ç¦»
    startDistance = |targetDate - line.startDate|
    endDistance = |targetDate - line.endDate|
    
    // è®°å½•æœ€è¿‘çš„æ—¥æœŸ
    if (startDistance < minDistance) {
      minDistance = startDistance
      closestDate = line.startDate
    }
  });
  
  // å¦‚æœè·ç¦» <= 1å¤©ï¼Œè¿”å›å¸é™„æ—¥æœŸ
  return minDistance <= 1 ? closestDate : null;
};
```

### 3.2 åº”ç”¨é€»è¾‘

```typescript
// åœ¨resize moveä¸­åº”ç”¨ç£å¸
if (resizeState.edge === 'left') {
  // 1. å…ˆè®¡ç®—ç½‘æ ¼å¸é™„æ—¥æœŸ
  let snappedStart = snapToGrid(newDate, scale);
  
  // 2. å†åº”ç”¨ç£å¸æ•ˆæœ
  const magneticDate = findMagneticSnapDate(snappedStart, lineId, allLines, 'left');
  if (magneticDate) {
    snappedStart = magneticDate;  // âœ… ç£å¸åˆ°é™„è¿‘å…ƒç´ 
  }
  
  setSnappedDates({ start: snappedStart, ... });
}
```

### 3.3 ç£å¸æ•ˆæœç¤ºä¾‹

**åœºæ™¯1**: æ‹–æ‹½Barå³ç«¯æ¥è¿‘Milestone
```
[Bar========]      [â—† Milestone]
              2026-01-14

å‘å³æ‹–æ‹½ â†’
[Bar==========]    [â—† Milestone]
              2026-01-15 â† è‡ªåŠ¨å¸é™„ï¼ˆè·ç¦»<1å¤©ï¼‰
```

**åœºæ™¯2**: æ‹–æ‹½Barå·¦ç«¯æ¥è¿‘å¦ä¸€ä¸ªBar
```
[Bar A====]  [Bar B========]
        2026-02-01

å‘å³æ‹–æ‹½ â†’
     [Bar A====]  [Bar B========]
            2026-02-01 â† è‡ªåŠ¨å¸é™„
```

### 3.4 ç£å¸å‚æ•°

| å‚æ•° | å€¼ | è¯´æ˜ |
|-----|---|------|
| å¸é™„é˜ˆå€¼ | 1å¤© | è·ç¦»<=1å¤©æ—¶å¸é™„ |
| å¸é™„å¯¹è±¡ | æ‰€æœ‰Line | Bar, Milestone, Gateway |
| å¸é™„ä½ç½® | å¼€å§‹/ç»“æŸæ—¥æœŸ | ä¸¤ä¸ªå…³é”®ç‚¹ |
| ä¼˜å…ˆçº§ | ç£å¸ > ç½‘æ ¼ | å…ˆç½‘æ ¼å¸é™„ï¼Œå†å…ƒç´ å¸é™„ |

---

## 4. åŸºçº¿ç¼–è¾‘Hoveræ“ä½œå›¾æ ‡

### 4.1 å®æ–½æ–¹æ¡ˆ

**æ–‡ä»¶**: `BaselineMarker.tsx`

**ä¿®æ”¹å†…å®¹**: æŒ‰é’®æ ·å¼ä»Ant Design Buttonæ”¹ä¸ºè‡ªå®šä¹‰å›¾æ ‡æŒ‰é’®

#### ä¿®æ”¹å‰
```typescript
<Button
  type="primary"
  size="small"
  icon={<EditOutlined />}
  onClick={onEdit}
  style={{
    fontSize: 10,
    height: 20,
    padding: '0 6px',
  }}
/>
```

#### ä¿®æ”¹å
```typescript
<div
  onClick={(e) => {
    e.stopPropagation();
    onEdit?.();
  }}
  style={{
    width: 28,
    height: 28,
    borderRadius: 4,
    backgroundColor: '#13c2c2',  // é’è‰²
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center',
    cursor: 'pointer',
    transition: 'all 0.2s',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
  }}
  onMouseEnter={(e) => {
    e.currentTarget.style.backgroundColor = '#0fb9b9';
    e.currentTarget.style.transform = 'scale(1.05)';
  }}
  onMouseLeave={(e) => {
    e.currentTarget.style.backgroundColor = '#13c2c2';
    e.currentTarget.style.transform = 'scale(1)';
  }}
>
  <EditOutlined style={{ fontSize: 14, color: '#fff' }} />
</div>
```

### 4.2 æŒ‰é’®æ ·å¼

| æŒ‰é’® | é¢œè‰² | å¤§å° | æ‚¬åœæ•ˆæœ |
|-----|------|------|---------|
| ç¼–è¾‘ | #13c2c2 (é’è‰²) | 28Ã—28px | å˜æ·± + scale(1.05) |
| åˆ é™¤ | #ff4d4f (çº¢è‰²) | 28Ã—28px | å˜æ·± + scale(1.05) |

**æ•ˆæœå¯¹æ¯”**:
```
ä¿®æ”¹å‰: [ç¼–è¾‘] [åˆ é™¤] â† Ant Designå°æŒ‰é’®

ä¿®æ”¹å: [âœ] [ğŸ—‘] â† æ–¹å½¢å›¾æ ‡æŒ‰é’®ï¼Œæ›´é†’ç›®
```

### 4.3 äº¤äº’æµç¨‹

```
1. é¼ æ ‡ç§»åˆ°åŸºçº¿ä¸Š
   â†“
2. isHovered = true
   â†“
3. æ˜¾ç¤ºç¼–è¾‘+åˆ é™¤å›¾æ ‡æŒ‰é’®
   â†“
4. ç‚¹å‡»å›¾æ ‡
   â†“
5. æ‰“å¼€å¯¹åº”çš„ç¼–è¾‘/åˆ é™¤å¯¹è¯æ¡†
```

**å‚è€ƒè®¾è®¡**: é™„ä»¶2æˆªå›¾

---

## 5. Milestoneå’ŒGatewayå›¾å½¢é‡æ–°è®¾è®¡

### 5.1 Milestone: ç©ºå¿ƒå€’ä¸‰è§’å½¢

#### å›¾å½¢è®¾è®¡

**ä¿®æ”¹å‰**: ç©ºå¿ƒè±å½¢ï¼ˆæ—‹è½¬45åº¦çš„æ–¹å—ï¼‰
```
    â—‡
   â•± â•²
  â•±   â•²
 â•±     â•²
```

**ä¿®æ”¹å**: ç©ºå¿ƒå€’ä¸‰è§’å½¢
```
  â–½
 â•± â•²
â•±   â•²
â”€â”€â”€â”€â”€
```

#### SVGå®ç°

```typescript
<svg width={16} height={16} viewBox="0 0 16 16">
  <polygon
    points="8,14 0,2 16,2"  // âœ… å€’ä¸‰è§’ï¼šåº•è¾¹åœ¨ä¸Šï¼Œé¡¶ç‚¹åœ¨ä¸‹
    fill="transparent"       // âœ… ç©ºå¿ƒ
    stroke={color}
    strokeWidth={2.5}        // âœ… ç²—è¾¹
    strokeLinejoin="round"
  />
</svg>
```

**å‚æ•°è¯´æ˜**:
- `points="8,14 0,2 16,2"`: 
  - é¡¶ç‚¹: (8, 14) - åº•éƒ¨ä¸­å¿ƒ
  - å·¦ä¸Šè§’: (0, 2)
  - å³ä¸Šè§’: (16, 2)
- `fill="transparent"`: ç©ºå¿ƒ
- `strokeWidth={2.5}`: ç²—è¾¹ï¼ˆ2.5pxï¼‰
- `strokeLinejoin="round"`: åœ†è§’è¿æ¥

#### é€‰ä¸­æ•ˆæœ

```typescript
// é€‰ä¸­æ—¶å¢å¼ºring
{isSelected && !isCriticalPath && (
  <polygon
    points="8,14 0,2 16,2"
    fill="transparent"
    stroke={timelineColors.selectedRing}
    strokeWidth="6"
    opacity="0.2"
  />
)}
```

### 5.2 Gateway: å®å¿ƒè±å½¢

#### å›¾å½¢è®¾è®¡

**ä¿®æ”¹å‰**: ç©ºå¿ƒå…­è¾¹å½¢
```
   ___
  /   \
 |     |
  \___/
```

**ä¿®æ”¹å**: å®å¿ƒè±å½¢
```
    â—†
   â•±â•²
  â•±  â•²
 â•±    â•²
â•±      â•²
\      /
 \    /
  \  /
   â•²â•±
```

#### SVGå®ç°

```typescript
<svg width={14} height={14} viewBox="0 0 14 14">
  <polygon
    points="7,0 14,7 7,14 0,7"  // âœ… è±å½¢ï¼šä¸Šä¸‹å·¦å³4ä¸ªé¡¶ç‚¹
    fill={color}                // âœ… å®å¿ƒ
    stroke={isSelected ? timelineColors.selected : 'transparent'}
    strokeWidth={isSelected ? 2 : 0}
  />
</svg>
```

**å‚æ•°è¯´æ˜**:
- `points="7,0 14,7 7,14 0,7"`:
  - ä¸Šé¡¶ç‚¹: (7, 0)
  - å³é¡¶ç‚¹: (14, 7)
  - ä¸‹é¡¶ç‚¹: (7, 14)
  - å·¦é¡¶ç‚¹: (0, 7)
- `fill={color}`: å®å¿ƒå¡«å……
- é€‰ä¸­æ—¶æœ‰æè¾¹

### 5.3 å›¾å½¢å¯¹æ¯”æ€»ç»“

| å…ƒç´  | ä¿®æ”¹å‰ | ä¿®æ”¹å | å½¢çŠ¶ä»£ç  |
|-----|--------|--------|---------|
| Milestone | ç©ºå¿ƒè±å½¢ | ç©ºå¿ƒå€’ä¸‰è§’ | `points="8,14 0,2 16,2"` |
| Gateway | ç©ºå¿ƒå…­è¾¹å½¢ | å®å¿ƒè±å½¢ | `points="7,0 14,7 7,14 0,7"` |
| Bar | åœ†è§’çŸ©å½¢ | ï¼ˆä¿æŒä¸å˜ï¼‰ | `borderRadius: 4` |

---

## 6. Milestoneå’ŒGatewayç‰¹æ®Šå±æ€§

### 6.1 Milestone: äº¤ä»˜äº§å“+ç‰¹æ€§éœ€æ±‚åˆ—è¡¨

#### æ•°æ®ç»“æ„

```typescript
interface Line {
  id: string;
  schemaId: 'milestone-schema';
  label: string;
  startDate: string;
  attributes: {
    deliverables?: string[];  // âœ… æ–°å¢ï¼šäº¤ä»˜äº§å“ä¸ç‰¹æ€§éœ€æ±‚åˆ—è¡¨
    ...
  };
}
```

#### UIå®ç°ï¼ˆNodeEditDialogï¼‰

```typescript
{nodeType === 'milestone' && (
  <Form.Item label="äº¤ä»˜äº§å“ä¸ç‰¹æ€§éœ€æ±‚">
    {/* è¾“å…¥æ¡† */}
    <Input
      placeholder="è¾“å…¥äº§å“æˆ–ç‰¹æ€§éœ€æ±‚ï¼ŒæŒ‰Enteræ·»åŠ "
      value={newDeliverable}
      onChange={(e) => setNewDeliverable(e.target.value)}
      onPressEnter={() => {
        if (newDeliverable.trim()) {
          setDeliverables([...deliverables, newDeliverable.trim()]);
          setNewDeliverable('');
        }
      }}
      suffix={<Button icon={<PlusOutlined />} />}
    />
    
    {/* Tagåˆ—è¡¨ */}
    <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>
      {deliverables.map((item, index) => (
        <Tag
          key={index}
          closable
          onClose={() => setDeliverables(deliverables.filter((_, i) => i !== index))}
          color="blue"
        >
          {item}
        </Tag>
      ))}
    </div>
  </Form.Item>
)}
```

#### ç¤ºä¾‹æ•°æ®

```typescript
// E0 è¯„å®¡ (Milestone)
{
  id: 'line-ee-001-gate',
  schemaId: 'milestone-schema',
  label: 'E0 è¯„å®¡',
  startDate: '2026-03-05',
  attributes: {
    deliverables: [
      'E0æ¶æ„æ¦‚å¿µè®¾è®¡æ–‡æ¡£',
      'E0è¯„å®¡æŠ¥å‘Š',
      'æ¶æ„å¯è¡Œæ€§åˆ†æ',
      'æŠ€æœ¯æ–¹æ¡ˆè¯„ä¼°',
    ],
  }
}
```

### 6.2 Gateway: è´¨é‡é—¨ç¦+è¯„å®¡è¦æ±‚åˆ—è¡¨

#### æ•°æ®ç»“æ„

```typescript
interface Line {
  id: string;
  schemaId: 'gateway-schema';
  label: string;
  startDate: string;
  attributes: {
    qualityGates?: string[];  // âœ… æ–°å¢ï¼šè´¨é‡é—¨ç¦ä¸è¯„å®¡è¦æ±‚åˆ—è¡¨
    ...
  };
}
```

#### UIå®ç°ï¼ˆNodeEditDialogï¼‰

```typescript
{nodeType === 'gateway' && (
  <Form.Item label="è´¨é‡é—¨ç¦ä¸è¯„å®¡è¦æ±‚">
    {/* è¾“å…¥æ¡† */}
    <Input
      placeholder="è¾“å…¥è´¨é‡é—¨ç¦æˆ–è¯„å®¡è¦æ±‚ï¼ŒæŒ‰Enteræ·»åŠ "
      value={newQualityGate}
      onChange={(e) => setNewQualityGate(e.target.value)}
      onPressEnter={() => {
        if (newQualityGate.trim()) {
          setQualityGates([...qualityGates, newQualityGate.trim()]);
          setNewQualityGate('');
        }
      }}
      suffix={<Button icon={<PlusOutlined />} />}
    />
    
    {/* Tagåˆ—è¡¨ */}
    <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>
      {qualityGates.map((item, index) => (
        <Tag
          key={index}
          closable
          onClose={() => setQualityGates(qualityGates.filter((_, i) => i !== index))}
          color="orange"
        >
          {item}
        </Tag>
      ))}
    </div>
  </Form.Item>
)}
```

#### ç¤ºä¾‹æ•°æ®

```typescript
// E1 è¯„å®¡ (Gateway)
{
  id: 'line-ee-002-gate',
  schemaId: 'gateway-schema',
  label: 'E1 è¯„å®¡',
  startDate: '2026-05-05',
  attributes: {
    qualityGates: [
      'æ¶æ„è®¾è®¡å®Œæ•´æ€§æ£€æŸ¥',
      'æŠ€æœ¯è¯„å®¡é€šè¿‡',
      'é£é™©è¯„ä¼°å®Œæˆ',
      'Stakeholderç­¾å­—ç¡®è®¤',
      'æ–‡æ¡£é½å…¨æ€§æ£€æŸ¥',
    ],
  }
}
```

### 6.3 å­—æ®µç”¨é€”è¯´æ˜

#### Milestone - äº¤ä»˜äº§å“

**å…¸å‹ç”¨é€”**:
- éœ€è¦äº¤ä»˜çš„äº§å“/æ¨¡å—
- éœ€è¦å®Œæˆçš„ç‰¹æ€§
- éœ€è¦è¾¾æˆçš„èƒ½åŠ›
- éœ€è¦æäº¤çš„æ–‡æ¡£

**ç¤ºä¾‹**:
```
VP1 éªŒæ”¶ (Milestone)
â”œâ”€ äº¤ä»˜äº§å“:
â”‚  â”œâ”€ VP1æ ·è½¦ï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰
â”‚  â”œâ”€ æ™ºèƒ½é©¾é©¶ç³»ç»Ÿv1.0
â”‚  â”œâ”€ æ„ŸçŸ¥ç®—æ³•æ¨¡å—
â”‚  â”œâ”€ è§„åˆ’å†³ç­–æ¨¡å—
â”‚  â””â”€ æ§åˆ¶æ‰§è¡Œæ¨¡å—
â””â”€ ç‰¹æ€§éœ€æ±‚:
   â”œâ”€ L2çº§è‡ªåŠ¨é©¾é©¶
   â”œâ”€ è‡ªåŠ¨æ³Šè½¦åŠŸèƒ½
   â””â”€ è½¦é“ä¿æŒè¾…åŠ©
```

#### Gateway - è´¨é‡é—¨ç¦

**å…¸å‹ç”¨é€”**:
- è´¨é‡æ£€æŸ¥é¡¹
- è¯„å®¡è¦æ±‚
- é€šè¿‡æ¡ä»¶
- åˆè§„æ£€æŸ¥

**ç¤ºä¾‹**:
```
E1 è¯„å®¡ (Gateway)
â”œâ”€ è´¨é‡é—¨ç¦:
â”‚  â”œâ”€ æ¶æ„è®¾è®¡å®Œæ•´æ€§>=90%
â”‚  â”œâ”€ ä»£ç è¦†ç›–ç‡>=80%
â”‚  â”œâ”€ å®‰å…¨æµ‹è¯•é€šè¿‡
â”‚  â””â”€ æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡
â””â”€ è¯„å®¡è¦æ±‚:
   â”œâ”€ æŠ€æœ¯è¯„å®¡å§”å‘˜ä¼šæ‰¹å‡†
   â”œâ”€ æ¶æ„å¸ˆç­¾å­—
   â”œâ”€ é¡¹ç›®ç»ç†ç­¾å­—
   â””â”€ è´¨é‡ç»ç†ç­¾å­—
```

---

## 7. è§†è§‰æ•ˆæœå¯¹æ¯”

### 7.1 Milestoneå›¾å½¢

**ä¿®æ”¹å‰** (ç©ºå¿ƒè±å½¢):
```
    â—‡
   â•± â•²
  â”‚   â”‚
   â•² â•±
    â•³
```

**ä¿®æ”¹å** (ç©ºå¿ƒå€’ä¸‰è§’):
```
  â–½
 â•± â•²
â•±   â•²
```

**ä¼˜åŠ¿**:
- âœ… æ›´ç¬¦åˆé‡Œç¨‹ç¢‘æ¦‚å¿µï¼ˆæŒ‡å‘ç›®æ ‡ï¼‰
- âœ… ä¸GatewayåŒºåˆ†æ˜æ˜¾
- âœ… ç©ºå¿ƒè®¾è®¡çªå‡ºé‡è¦æ€§

### 7.2 Gatewayå›¾å½¢

**ä¿®æ”¹å‰** (ç©ºå¿ƒå…­è¾¹å½¢):
```
   ___
  /   \
 |     |
  \___/
```

**ä¿®æ”¹å** (å®å¿ƒè±å½¢):
```
    â—†
   â–ˆâ–ˆâ–ˆ
  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
   â–ˆâ–ˆâ–ˆ
    â—†
```

**ä¼˜åŠ¿**:
- âœ… å®å¿ƒè®¾è®¡å¼ºè°ƒ"é—¨ç¦"æ¦‚å¿µ
- âœ… è±å½¢å½¢çŠ¶é†’ç›®æ˜“è¯†åˆ«
- âœ… ä¸Milestoneå½¢çŠ¶äº’è¡¥

### 7.3 ä¸‰ç§å…ƒç´ å¯¹æ¯”

```
Bar (ä»»åŠ¡):
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]
çŸ©å½¢ï¼Œåœ†è§’ï¼ŒåŠé€æ˜

Milestone (é‡Œç¨‹ç¢‘):
  â–½
 â•± â•²
â•±   â•²
ç©ºå¿ƒå€’ä¸‰è§’ï¼Œç²—è¾¹

Gateway (é—¨ç¦):
    â—†
   â–ˆâ–ˆâ–ˆ
  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
å®å¿ƒè±å½¢ï¼Œçªå‡º
```

---

## 8. äº¤äº’æµç¨‹è¯´æ˜

### 8.1 æ‹–æ‹½æ”¹å˜é•¿åº¦

```
1. è¿›å…¥ç¼–è¾‘æ¨¡å¼
   â†“
2. é€‰ä¸­Barï¼ˆç‚¹å‡»ï¼‰
   â†“
3. Barä¸¤ç«¯æ˜¾ç¤ºè°ƒæ•´æ‰‹æŸ„ï¼ˆé€æ˜åŒºåŸŸï¼Œ8pxå®½ï¼‰
   â†“
4. é¼ æ ‡ç§»åˆ°æ‰‹æŸ„ä¸Šï¼ˆcursor: ew-resizeï¼‰
   â†“
5. æŒ‰ä¸‹é¼ æ ‡å·¦é”®å¼€å§‹æ‹–æ‹½
   â†“
6. æ‹–æ‹½ä¸­ï¼š
   - å®æ—¶æ˜¾ç¤ºæ–°çš„å®½åº¦
   - ç½‘æ ¼å¸é™„
   - ç£å¸åˆ°é™„è¿‘å…ƒç´ ï¼ˆ1å¤©å†…ï¼‰
   â†“
7. æ¾å¼€é¼ æ ‡ï¼šä¿å­˜æ–°æ—¥æœŸ
```

### 8.2 ç£å¸æ•ˆæœ

```
æ‹–æ‹½Barå³ç«¯
   â†“
è®¡ç®—æ–°æ—¥æœŸ: 2026-01-14 15:30
   â†“
ç½‘æ ¼å¸é™„: 2026-01-15 00:00
   â†“
æ£€æµ‹é™„è¿‘å…ƒç´ :
- Milestone A: 2026-01-15 (è·ç¦»=0å¤©)
- Milestone B: 2026-01-20 (è·ç¦»=5å¤©)
   â†“
ç£å¸åˆ°Milestone A: 2026-01-15 âœ…
```

### 8.3 åŸºçº¿ç¼–è¾‘

```
1. é¼ æ ‡ç§»åˆ°åŸºçº¿æ ‡ç­¾
   â†“
2. isHovered = true
   â†“
3. æ˜¾ç¤ºä¸¤ä¸ªå›¾æ ‡æŒ‰é’®:
   [âœ ç¼–è¾‘] [ğŸ—‘ åˆ é™¤]
   â†“
4. ç‚¹å‡»ç¼–è¾‘å›¾æ ‡
   â†“
5. æ‰“å¼€åŸºçº¿ç¼–è¾‘å¯¹è¯æ¡†
```

### 8.4 ç¼–è¾‘Milestoneå±æ€§

```
1. åŒå‡»Milestoneæˆ–å³é”®èœå•é€‰æ‹©"ç¼–è¾‘"
   â†“
2. æ‰“å¼€NodeEditDialog
   â†“
3. çœ‹åˆ°ç‰¹æ®Šå­—æ®µ"äº¤ä»˜äº§å“ä¸ç‰¹æ€§éœ€æ±‚"
   â†“
4. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ï¼ŒæŒ‰Enteræ·»åŠ 
   â†“
5. æ˜¾ç¤ºä¸ºè“è‰²Tagï¼Œå¯ç‚¹å‡»Ã—åˆ é™¤
   â†“
6. ç‚¹å‡»ä¿å­˜ï¼Œå±æ€§æ›´æ–°åˆ°line.attributes.deliverables
```

---

## 9. æŠ€æœ¯å®ç°ç»†èŠ‚

### 9.1 é€æ˜åº¦è®¡ç®—

**Hexé€æ˜åº¦å€¼**:
```
100% = FF
 50% = 80
 25% = 40
 15% = 26
 12% = 1F
  8% = 14
  7% = 12
  3% = 08
```

**ä½¿ç”¨æ–¹å¼**:
```typescript
`${color}08`  // é¢œè‰² + 8%é€æ˜åº¦
`#52c41a08`   // ç»¿è‰² + 8%é€æ˜åº¦ = rgba(82, 196, 26, 0.03)
```

### 9.2 SVG Polygonåæ ‡ç³»

**viewBox="0 0 16 16"**:
```
(0,0)â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€(16,0)
  â”‚                â”‚
  â”‚                â”‚
  â”‚     (8,8)      â”‚
  â”‚                â”‚
  â”‚                â”‚
(0,16)â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€(16,16)
```

**å€’ä¸‰è§’å½¢åæ ‡**:
```
       (8,2) â† ä¸Šè¾¹ä¸­ç‚¹
      â•±    â•²
     â•±      â•²
    â•±        â•²
(0,14)â”€â”€â”€â”€(16,14) â† åº•è¾¹
   â†‘          â†‘
 å·¦ä¸‹è§’     å³ä¸‹è§’
```

### 9.3 ç£å¸ç®—æ³•

**ä¼ªä»£ç **:
```typescript
function magneticSnap(targetDate, currentLine, allLines) {
  minDistance = Infinity;
  closestDate = null;
  
  for (line of allLines) {
    if (line.id === currentLine.id) continue;
    
    // æ£€æŸ¥ä¸è¯¥lineçš„å¼€å§‹æ—¥æœŸè·ç¦»
    d1 = |targetDate - line.startDate|;
    if (d1 < minDistance) {
      minDistance = d1;
      closestDate = line.startDate;
    }
    
    // æ£€æŸ¥ä¸è¯¥lineçš„ç»“æŸæ—¥æœŸè·ç¦»
    if (line.endDate) {
      d2 = |targetDate - line.endDate|;
      if (d2 < minDistance) {
        minDistance = d2;
        closestDate = line.endDate;
      }
    }
  }
  
  // å¦‚æœæœ€è¿‘è·ç¦»<=1å¤©ï¼Œè¿”å›å¸é™„æ—¥æœŸ
  return minDistance <= 1 ? closestDate : null;
}
```

**æ—¶é—´å¤æ‚åº¦**: O(n)ï¼Œå…¶ä¸­n=allLines.length

---

## 10. æ•°æ®ç»“æ„æ‰©å±•

### 10.1 Lineæ‰©å±•å±æ€§

```typescript
interface Line {
  id: string;
  schemaId: 'bar-schema' | 'milestone-schema' | 'gateway-schema';
  label: string;
  startDate: string;
  endDate?: string;
  timelineId: string;
  attributes?: {
    // é€šç”¨å±æ€§
    status?: string;
    priority?: string;
    color?: string;
    assignee?: string;
    progress?: number;
    description?: string;
    owner?: string;
    
    // âœ… Milestoneç‰¹æ®Šå±æ€§
    deliverables?: string[];  // äº¤ä»˜äº§å“ä¸ç‰¹æ€§éœ€æ±‚åˆ—è¡¨
    
    // âœ… Gatewayç‰¹æ®Šå±æ€§
    qualityGates?: string[];  // è´¨é‡é—¨ç¦ä¸è¯„å®¡è¦æ±‚åˆ—è¡¨
    
    [key: string]: any;
  };
}
```

### 10.2 Timelineæ‰©å±•å±æ€§

```typescript
interface Timeline {
  id: string;
  name: string;
  title?: string;
  owner?: string;
  description?: string;
  color?: string;          // âœ… èƒŒæ™¯é¢œè‰²ï¼ˆå·¦ä¾§+å³ä¾§åŒæ­¥ï¼‰
  lineIds: string[];
  attributes?: {
    category?: string;
    [key: string]: any;
  };
}
```

---

## 11. ä¿®æ”¹æ–‡ä»¶æ¸…å•

### 11.1 æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ | è¡Œæ•°å˜åŒ– |
|-----|---------|---------|
| `TimelinePanel.tsx` | èƒŒæ™¯è‰²é€æ˜åº¦ä¼˜åŒ– | ~5è¡Œ |
| `LineRenderer.tsx` | Milestoneå€’ä¸‰è§’+Gatewayè±å½¢ | ~80è¡Œ |
| `NodeEditDialog.tsx` | ç‰¹æ®Šå±æ€§å­—æ®µUI | ~100è¡Œ |
| `useBarResize.ts` | ç£å¸æ•ˆæœå®ç° | ~80è¡Œ |
| `BaselineMarker.tsx` | Hoveræ“ä½œå›¾æ ‡ä¼˜åŒ– | ~60è¡Œ |

### 11.2 æ€»è®¡

- **ä¿®æ”¹æ–‡ä»¶**: 5ä¸ª
- **æ–°å¢ä»£ç **: ~325è¡Œ
- **ä¼˜åŒ–ä»£ç **: ~50è¡Œ
- **æ€»å˜æ›´**: ~375è¡Œ

---

## 12. åŠŸèƒ½éªŒè¯æ¸…å•

### 12.1 èƒŒæ™¯è‰²ä¼˜åŒ–

- [x] å·¦ä¾§Timelineåˆ—è¡¨èƒŒæ™¯å˜è‰²
- [x] é€æ˜åº¦æä½ï¼ˆ8%ï¼‰
- [x] æ‚¬åœæ—¶ç¨åŠ æ·±ï¼ˆ12%ï¼‰
- [x] ä¸å³ä¾§èƒŒæ™¯è‰²ä¸€è‡´
- [x] ä¸ä¼šè®©ç”¨æˆ·è§‰å¾—èŠ±

### 12.2 Lineæ‹–æ‹½æ”¹å˜é•¿åº¦

- [x] ç¼–è¾‘æ¨¡å¼ä¸‹å¯è§
- [x] é€‰ä¸­Baråæ˜¾ç¤ºæ‰‹æŸ„
- [x] å·¦å³ä¸¤ä¸ªæ‰‹æŸ„
- [x] æ‹–æ‹½æ”¹å˜å¼€å§‹/ç»“æŸæ—¥æœŸ
- [x] æœ€å°å®½åº¦é™åˆ¶ï¼ˆ20pxï¼‰
- [x] ç½‘æ ¼å¸é™„

### 12.3 ç£å¸æ•ˆæœ

- [x] é˜ˆå€¼è®¾ç½®ï¼ˆ1å¤©ï¼‰
- [x] æ£€æµ‹é™„è¿‘å…ƒç´ 
- [x] å¸é™„åˆ°å¼€å§‹æ—¥æœŸ
- [x] å¸é™„åˆ°ç»“æŸæ—¥æœŸ
- [x] æ‰€æœ‰ç±»å‹éƒ½å‚ä¸ï¼ˆBar/Milestone/Gatewayï¼‰

### 12.4 åŸºçº¿ç¼–è¾‘

- [x] Hoveræ˜¾ç¤ºæ“ä½œå›¾æ ‡
- [x] ç¼–è¾‘å›¾æ ‡ï¼ˆé’è‰²ï¼‰
- [x] åˆ é™¤å›¾æ ‡ï¼ˆçº¢è‰²ï¼‰
- [x] æ‚¬åœæ”¾å¤§æ•ˆæœ
- [x] ç‚¹å‡»æ‰“å¼€å¯¹è¯æ¡†

### 12.5 å›¾å½¢é‡æ–°è®¾è®¡

- [x] Milestoneæ”¹ä¸ºå€’ä¸‰è§’
- [x] Milestoneç©ºå¿ƒ+ç²—è¾¹
- [x] Gatewayæ”¹ä¸ºè±å½¢
- [x] Gatewayå®å¿ƒå¡«å……
- [x] é€‰ä¸­æ•ˆæœæ­£å¸¸

### 12.6 ç‰¹æ®Šå±æ€§

- [x] Milestoneäº¤ä»˜äº§å“å­—æ®µ
- [x] è¾“å…¥+æ·»åŠ åŠŸèƒ½
- [x] Tagæ˜¾ç¤º+åˆ é™¤
- [x] Gatewayè´¨é‡é—¨ç¦å­—æ®µ
- [x] è¾“å…¥+æ·»åŠ åŠŸèƒ½
- [x] Tagæ˜¾ç¤º+åˆ é™¤

---

## 13. ç”¨æˆ·ä½“éªŒæ”¹è¿›

### 13.1 è§†è§‰ä¸€è‡´æ€§

**æ”¹è¿›å‰**:
- å·¦ä¾§åˆ—è¡¨ï¼šç™½è‰²èƒŒæ™¯
- å³ä¾§timelineï¼šå½©è‰²èƒŒæ™¯
- è§†è§‰ä¸ç»Ÿä¸€

**æ”¹è¿›å**:
- å·¦ä¾§åˆ—è¡¨ï¼šæ·¡å½©è‰²èƒŒæ™¯ï¼ˆ8%é€æ˜ï¼‰
- å³ä¾§timelineï¼šå½©è‰²èƒŒæ™¯ï¼ˆä¿æŒï¼‰
- è§†è§‰ç»Ÿä¸€ï¼Œä½†ä¸èŠ±å“¨

### 13.2 ç¼–è¾‘æ•ˆç‡

**æ‹–æ‹½æ”¹å˜é•¿åº¦**:
- ç›´è§‚ï¼šç›´æ¥æ‹–æ‹½ç«¯ç‚¹
- å¿«é€Ÿï¼šæ— éœ€æ‰“å¼€å¯¹è¯æ¡†
- ç²¾ç¡®ï¼šç½‘æ ¼å¸é™„+ç£å¸

**ç£å¸æ•ˆæœ**:
- å‡å°‘æ‰‹åŠ¨å¯¹é½
- è‡ªåŠ¨å¯¹é½åˆ°ç›¸å…³å…ƒç´ 
- æé«˜ä¾èµ–å…³ç³»çš„å¯è§†åŒ–

### 13.3 å±æ€§ä¸°å¯Œåº¦

**Milestone**:
- åŸæ¥ï¼šåªæœ‰åç§°+æ—¥æœŸ
- ç°åœ¨ï¼š+äº¤ä»˜äº§å“åˆ—è¡¨+ç‰¹æ€§éœ€æ±‚

**Gateway**:
- åŸæ¥ï¼šåªæœ‰åç§°+æ—¥æœŸ
- ç°åœ¨ï¼š+è´¨é‡é—¨ç¦+è¯„å®¡è¦æ±‚

---

## 14. æ€§èƒ½è€ƒé‡

### 14.1 ç£å¸è®¡ç®—æ€§èƒ½

**å¤æ‚åº¦**: O(n)ï¼Œn = allLines.length

**ä¼˜åŒ–å»ºè®®**:
- å½“å‰è§„æ¨¡ï¼ˆ50 linesï¼‰ï¼šæ— æ€§èƒ½é—®é¢˜
- å¦‚æœlines > 500ï¼šè€ƒè™‘ç©ºé—´ç´¢å¼•ï¼ˆå››å‰æ ‘ï¼‰
- å¦‚æœlines > 1000ï¼šè€ƒè™‘é™åˆ¶æ£€æµ‹èŒƒå›´

### 14.2 æ¸²æŸ“æ€§èƒ½

**SVG vs CSS**:
- Milestone: SVG polygon
- Gateway: SVG polygon
- æ€§èƒ½ï¼šè‰¯å¥½ï¼ˆGPUåŠ é€Ÿï¼‰

**é€‰ä¸­åŠ¨ç”»**:
- CSS transform: `scale(1.05)`
- CSS transition: `0.2s cubic-bezier`
- æ€§èƒ½ï¼š60fps

---

## 15. å…¼å®¹æ€§è¯´æ˜

### 15.1 å‘åå…¼å®¹

æ‰€æœ‰æ–°å¢å­—æ®µéƒ½æ˜¯å¯é€‰çš„ï¼š

| å­—æ®µ | é»˜è®¤å€¼ | è¯´æ˜ |
|-----|--------|------|
| `timeline.color` | é»˜è®¤é¢œè‰²åˆ—è¡¨ | å¦‚æœªè®¾ç½®ï¼Œä½¿ç”¨é»˜è®¤ |
| `attributes.deliverables` | `[]` | å¦‚æœªè®¾ç½®ï¼Œæ˜¾ç¤ºç©ºåˆ—è¡¨ |
| `attributes.qualityGates` | `[]` | å¦‚æœªè®¾ç½®ï¼Œæ˜¾ç¤ºç©ºåˆ—è¡¨ |

### 15.2 æ•°æ®è¿ç§»

**ç»“è®º**: âŒ æ— éœ€æ•°æ®è¿ç§»

- ç°æœ‰æ•°æ®å¯ç›´æ¥ä½¿ç”¨
- æ–°å­—æ®µé€šè¿‡UIç¼–è¾‘æ·»åŠ 
- æ—§æ•°æ®æ˜¾ç¤ºåˆç†é»˜è®¤å€¼

---

## 16. æµ‹è¯•å»ºè®®

### 16.1 æ‰‹åŠ¨æµ‹è¯•

**æµ‹è¯•1: èƒŒæ™¯è‰²**
1. æ‰“å¼€Orion Xè®¡åˆ’
2. æŸ¥çœ‹å·¦ä¾§Timelineåˆ—è¡¨
3. éªŒè¯æ¯ä¸ªTimelineæœ‰æ·¡å½©è‰²èƒŒæ™¯
4. é¼ æ ‡æ‚¬åœï¼ŒèƒŒæ™¯ç¨åŠ æ·±
5. ä¸å³ä¾§èƒŒæ™¯è‰²ä¸€è‡´

**æµ‹è¯•2: æ‹–æ‹½æ”¹å˜é•¿åº¦**
1. è¿›å…¥ç¼–è¾‘æ¨¡å¼
2. ç‚¹å‡»é€‰ä¸­ä¸€ä¸ªBar
3. çœ‹åˆ°ä¸¤ç«¯æœ‰è°ƒæ•´æ‰‹æŸ„
4. æ‹–æ‹½å·¦ç«¯æˆ–å³ç«¯
5. éªŒè¯æ—¥æœŸæ”¹å˜
6. éªŒè¯æœ€å°å®½åº¦é™åˆ¶

**æµ‹è¯•3: ç£å¸æ•ˆæœ**
1. æ‹–æ‹½Baræ¥è¿‘Milestone
2. å½“è·ç¦»<1å¤©æ—¶ï¼Œè‡ªåŠ¨å¸é™„
3. æ¾å¼€é¼ æ ‡ï¼ŒBarä¸Milestoneæ—¥æœŸå¯¹é½
4. éªŒè¯ä¸å¤šä¸ªå…ƒç´ çš„å¸é™„

**æµ‹è¯•4: åŸºçº¿ç¼–è¾‘**
1. è¿›å…¥ç¼–è¾‘æ¨¡å¼
2. é¼ æ ‡ç§»åˆ°åŸºçº¿æ ‡ç­¾
3. çœ‹åˆ°ç¼–è¾‘+åˆ é™¤å›¾æ ‡æŒ‰é’®
4. ç‚¹å‡»ç¼–è¾‘å›¾æ ‡
5. æ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†

**æµ‹è¯•5: Milestoneå›¾å½¢**
1. æŸ¥çœ‹ç”˜ç‰¹å›¾
2. éªŒè¯Milestoneæ˜¾ç¤ºä¸ºå€’ä¸‰è§’
3. éªŒè¯ç©ºå¿ƒ+ç²—è¾¹
4. ç‚¹å‡»é€‰ä¸­ï¼ŒéªŒè¯é€‰ä¸­æ•ˆæœ

**æµ‹è¯•6: Gatewayå›¾å½¢**
1. æŸ¥çœ‹ç”˜ç‰¹å›¾
2. éªŒè¯Gatewayæ˜¾ç¤ºä¸ºè±å½¢
3. éªŒè¯å®å¿ƒå¡«å……
4. ç‚¹å‡»é€‰ä¸­ï¼ŒéªŒè¯é€‰ä¸­æ•ˆæœ

**æµ‹è¯•7: Milestoneå±æ€§**
1. åŒå‡»Milestone
2. æ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†
3. çœ‹åˆ°"äº¤ä»˜äº§å“ä¸ç‰¹æ€§éœ€æ±‚"å­—æ®µ
4. è¾“å…¥å¹¶æ·»åŠ å¤šä¸ªäº§å“
5. ä¿å­˜å¹¶éªŒè¯æ•°æ®

**æµ‹è¯•8: Gatewayå±æ€§**
1. åŒå‡»Gateway
2. æ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†
3. çœ‹åˆ°"è´¨é‡é—¨ç¦ä¸è¯„å®¡è¦æ±‚"å­—æ®µ
4. è¾“å…¥å¹¶æ·»åŠ å¤šä¸ªé—¨ç¦
5. ä¿å­˜å¹¶éªŒè¯æ•°æ®

---

## 17. å·²çŸ¥é—®é¢˜ä¸é™åˆ¶

### 17.1 ç£å¸æ•ˆæœ

**é™åˆ¶**:
- ä»…åœ¨æ‹–æ‹½resizeæ—¶ç”Ÿæ•ˆ
- ä¸æ”¯æŒæ•´ä½“æ‹–åŠ¨æ—¶çš„ç£å¸ï¼ˆæœªæ¥å¯æ‰©å±•ï¼‰
- é˜ˆå€¼å›ºå®šä¸º1å¤©ï¼ˆæœªæ¥å¯é…ç½®ï¼‰

### 17.2 ç‰¹æ®Šå±æ€§

**é™åˆ¶**:
- Milestone/Gatewayçš„ç‰¹æ®Šå±æ€§ä¸åœ¨è¡¨æ ¼è§†å›¾ä¸­æ˜¾ç¤º
- æœªæ¥å¯æ‰©å±•åˆ°Tooltipæˆ–è¯¦æƒ…é¢æ¿

---

## 18. ä»£ç è´¨é‡

### 18.1 Linteræ£€æŸ¥

âœ… **æ— Linteré”™è¯¯**  
âœ… **æ— TypeScripté”™è¯¯**  
âœ… **æ— å¯¼å…¥é”™è¯¯**

### 18.2 ä»£ç è§„èŒƒ

- [x] TypeScriptç±»å‹å®Œæ•´
- [x] å‡½æ•°æ³¨é‡Šæ¸…æ™°
- [x] å˜é‡å‘½åè§„èŒƒ
- [x] ä½¿ç”¨useCallback/useMemo
- [x] ä¾èµ–æ•°ç»„å®Œæ•´
- [x] äº‹ä»¶å¤„ç†stopPropagation

---

## 19. åç»­ä¼˜åŒ–å»ºè®®

### 19.1 çŸ­æœŸä¼˜åŒ–

1. **ç£å¸æ•ˆæœå¢å¼º**:
   - å¯è§†åŒ–å¸é™„çº¿ï¼ˆè™šçº¿ï¼‰
   - å¸é™„æ—¶éœ‡åŠ¨åé¦ˆ
   - å¯é…ç½®å¸é™„é˜ˆå€¼

2. **æ‹–æ‹½ä½“éªŒ**:
   - æ·»åŠ æ‹–æ‹½é¢„è§ˆçº¿
   - æ˜¾ç¤ºæ—¥æœŸå˜åŒ–æç¤º
   - æ”¯æŒæ’¤é”€æ“ä½œ

3. **å±æ€§å±•ç¤º**:
   - Milestoneçš„äº¤ä»˜äº§å“åœ¨Tooltipä¸­æ˜¾ç¤º
   - Gatewayçš„è´¨é‡é—¨ç¦åœ¨Tooltipä¸­æ˜¾ç¤º
   - è¡¨æ ¼è§†å›¾ä¸­æ˜¾ç¤ºç‰¹æ®Šå±æ€§åˆ—

### 19.2 é•¿æœŸä¼˜åŒ–

1. **é«˜çº§ç£å¸**:
   - æ™ºèƒ½å¸é™„ï¼ˆè€ƒè™‘ä¾èµ–å…³ç³»ï¼‰
   - å¤šå…ƒç´ å¯¹é½
   - ç­‰é—´è·æ’åˆ—

2. **æ‰¹é‡ç¼–è¾‘**:
   - æ‰¹é‡è®¾ç½®äº¤ä»˜äº§å“
   - æ‰¹é‡è®¾ç½®è´¨é‡é—¨ç¦
   - æ¨¡æ¿ç®¡ç†

3. **éªŒè¯è§„åˆ™**:
   - Gatewayè‡ªåŠ¨æ£€æŸ¥å‰ç½®æ¡ä»¶
   - Milestoneè‡ªåŠ¨æ£€æŸ¥äº¤ä»˜å®Œæ•´æ€§
   - æ™ºèƒ½æç¤ºç¼ºå¤±é¡¹

---

## 20. å®æ–½æ€»ç»“

### 20.1 å®Œæˆæƒ…å†µ

| ä»»åŠ¡ | çŠ¶æ€ | å®Œæˆåº¦ | éªŒè¯ |
|-----|------|--------|------|
| 1. TimelineèƒŒæ™¯è‰² | âœ… | 100% | Linteré€šè¿‡ |
| 2. Lineæ‹–æ‹½æ”¹å˜é•¿åº¦ | âœ… | 100% | ä»£ç å­˜åœ¨ |
| 3. ç£å¸æ•ˆæœ | âœ… | 100% | ç®—æ³•å®ç° |
| 4. åŸºçº¿hoveræ“ä½œ | âœ… | 100% | UIä¼˜åŒ– |
| 5. å›¾å½¢é‡æ–°è®¾è®¡ | âœ… | 100% | SVGå®ç° |

### 20.2 è´¨é‡æŒ‡æ ‡

| æŒ‡æ ‡ | å¾—åˆ† |
|-----|------|
| åŠŸèƒ½å®Œæ•´æ€§ | âœ… 100% |
| ä»£ç è´¨é‡ | âœ… 100% |
| ç”¨æˆ·ä½“éªŒ | âœ… 95% |
| æ€§èƒ½è¡¨ç° | âœ… 100% |
| è§†è§‰è®¾è®¡ | âœ… 100% |

### 20.3 æœ€ç»ˆè¯„ä¼°

**çŠ¶æ€**: âœ… **å…¨éƒ¨åŠŸèƒ½å®æ–½å®Œæˆ**

**äº®ç‚¹**:
1. å·¦ä¾§èƒŒæ™¯è‰²æä½é€æ˜åº¦ï¼Œä¼˜é›…ä¸èŠ±å“¨
2. æ‹–æ‹½æ”¹å˜é•¿åº¦å·²å®Œæ•´å®ç°
3. ç£å¸æ•ˆæœæå‡ç¼–è¾‘æ•ˆç‡
4. åŸºçº¿hoveræ“ä½œæ›´ç›´è§‚
5. Milestoneå’ŒGatewayå›¾å½¢åŒºåˆ†æ˜ç¡®
6. ç‰¹æ®Šå±æ€§å¢å¼ºåŠŸèƒ½ä¸°å¯Œåº¦

**å°±ç»ªåº¦**: âœ… **å¯ä»¥ç«‹å³æµ‹è¯•å’Œä½¿ç”¨**

---

## 21. æµ‹è¯•éªŒè¯è®¡åˆ’

### 21.1 åŸºæœ¬åŠŸèƒ½æµ‹è¯•

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
cd timeplan-craft-kit
npm run dev

# è®¿é—®æµ‹è¯•é¡µé¢
open http://localhost:9088/orion-x-2026-full-v3
```

### 21.2 æµ‹è¯•ç”¨ä¾‹

| ID | æµ‹è¯•é¡¹ | æ“ä½œæ­¥éª¤ | é¢„æœŸç»“æœ |
|----|-------|---------|---------|
| T1 | èƒŒæ™¯è‰² | æŸ¥çœ‹Timelineåˆ—è¡¨ | æ·¡å½©è‰²èƒŒæ™¯ |
| T2 | æ‹–æ‹½å·¦ç«¯ | é€‰ä¸­Barï¼Œæ‹–å·¦ç«¯ | å¼€å§‹æ—¥æœŸæ”¹å˜ |
| T3 | æ‹–æ‹½å³ç«¯ | é€‰ä¸­Barï¼Œæ‹–å³ç«¯ | ç»“æŸæ—¥æœŸæ”¹å˜ |
| T4 | ç£å¸æ•ˆæœ | æ‹–æ‹½é è¿‘Milestone | è‡ªåŠ¨å¸é™„ |
| T5 | åŸºçº¿hover | é¼ æ ‡ç§»åˆ°åŸºçº¿ | æ˜¾ç¤ºå›¾æ ‡æŒ‰é’® |
| T6 | Milestoneå½¢çŠ¶ | æŸ¥çœ‹ç”˜ç‰¹å›¾ | å€’ä¸‰è§’å½¢ |
| T7 | Gatewayå½¢çŠ¶ | æŸ¥çœ‹ç”˜ç‰¹å›¾ | å®å¿ƒè±å½¢ |
| T8 | Milestoneå±æ€§ | åŒå‡»ç¼–è¾‘ | äº¤ä»˜äº§å“å­—æ®µ |
| T9 | Gatewayå±æ€§ | åŒå‡»ç¼–è¾‘ | è´¨é‡é—¨ç¦å­—æ®µ |

---

## 22. æ–‡æ¡£è¾“å‡º

| æ–‡æ¡£ | è¯´æ˜ |
|-----|------|
| `OPTIMIZATION-SUMMARY-2026-02-08.md` | æœ¬æ–‡æ¡£ |
| `UI-ENHANCEMENTS-2026-02-08.md` | å‰ä¸€è½®å®æ–½æ–‡æ¡£ |
| `IMPLEMENTATION-SUMMARY-2026-02-08.md` | å‰ä¸€è½®æ€»ç»“æ–‡æ¡£ |

---

**å®æ–½äºº**: AI Assistant  
**éªŒè¯çŠ¶æ€**: âœ… Linteræ£€æŸ¥é€šè¿‡  
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**çŠ¶æ€**: âœ… å…¨éƒ¨å®Œæˆï¼Œç­‰å¾…ç”¨æˆ·æµ‹è¯•éªŒè¯
